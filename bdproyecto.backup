--
-- PostgreSQL database dump
--

\restrict 7hL9m4L5egeiIysSzWBHVfh1IYQU4Hltv6urPI2CcIvGanEcoe70MR6r64vwqh4

-- Dumped from database version 17.6
-- Dumped by pg_dump version 17.6

-- Started on 2025-11-13 22:49:14

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 243 (class 1259 OID 32953)
-- Name: actividad; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.actividad (
    id integer NOT NULL,
    id_entregable integer NOT NULL,
    titulo character varying(255) NOT NULL,
    descripcion text,
    fecha_inicio date,
    fecha_fin_prevista date,
    fecha_modificacion date,
    fecha_finalizacion date,
    prioridad integer,
    porcentaje_avance integer,
    CONSTRAINT actividad_porcentaje_avance_check CHECK (((porcentaje_avance >= 0) AND (porcentaje_avance <= 100)))
);


ALTER TABLE public.actividad OWNER TO postgres;

--
-- TOC entry 242 (class 1259 OID 32952)
-- Name: actividad_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.actividad ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.actividad_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 240 (class 1259 OID 32925)
-- Name: archivo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.archivo (
    id integer NOT NULL,
    id_usuario integer NOT NULL,
    ruta text NOT NULL,
    nombre text NOT NULL,
    tipo text,
    fecha date
);


ALTER TABLE public.archivo OWNER TO postgres;

--
-- TOC entry 241 (class 1259 OID 32937)
-- Name: archivo_entregable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.archivo_entregable (
    id_archivo integer NOT NULL,
    id_entregable integer NOT NULL
);


ALTER TABLE public.archivo_entregable OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 32924)
-- Name: archivo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.archivo ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.archivo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 247 (class 1259 OID 32982)
-- Name: distribucion_presupuesto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.distribucion_presupuesto (
    id integer NOT NULL,
    presupuesto_padre_id integer NOT NULL,
    proyecto_hijo_id integer NOT NULL,
    monto_asignado numeric(15,2) NOT NULL
);


ALTER TABLE public.distribucion_presupuesto OWNER TO postgres;

--
-- TOC entry 246 (class 1259 OID 32981)
-- Name: distribucion_presupuesto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.distribucion_presupuesto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.distribucion_presupuesto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 249 (class 1259 OID 32998)
-- Name: ejecucion_presupuesto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ejecucion_presupuesto (
    id integer NOT NULL,
    presupuesto_id integer NOT NULL,
    anio integer NOT NULL,
    monto_planeado numeric(15,2),
    monto_ejecutado numeric(15,2),
    observaciones text
);


ALTER TABLE public.ejecucion_presupuesto OWNER TO postgres;

--
-- TOC entry 248 (class 1259 OID 32997)
-- Name: ejecucion_presupuesto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.ejecucion_presupuesto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ejecucion_presupuesto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 32887)
-- Name: entregable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.entregable (
    id integer NOT NULL,
    codigo character varying(50),
    titulo character varying(255) NOT NULL,
    descripcion text,
    fecha_inicio date,
    fecha_fin_prevista date,
    fecha_modificacion date,
    fecha_finalizacion date
);


ALTER TABLE public.entregable OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 32886)
-- Name: entregable_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.entregable ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.entregable_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 32809)
-- Name: estado; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.estado (
    id integer NOT NULL,
    nombre character varying(50) NOT NULL,
    descripcion character varying(255) NOT NULL
);


ALTER TABLE public.estado OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 32808)
-- Name: estado_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.estado ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.estado_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 32837)
-- Name: estado_proyecto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.estado_proyecto (
    id_proyecto integer NOT NULL,
    id_estado integer NOT NULL
);


ALTER TABLE public.estado_proyecto OWNER TO postgres;

--
-- TOC entry 255 (class 1259 OID 33032)
-- Name: meta_estrategica; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.meta_estrategica (
    id integer NOT NULL,
    id_obj integer NOT NULL,
    titulo character varying(255) NOT NULL,
    descripcion text
);


ALTER TABLE public.meta_estrategica OWNER TO postgres;

--
-- TOC entry 254 (class 1259 OID 33031)
-- Name: meta_estrategica_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.meta_estrategica ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.meta_estrategica_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 256 (class 1259 OID 33044)
-- Name: meta_proyecto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.meta_proyecto (
    id_meta integer NOT NULL,
    id_proyecto integer NOT NULL,
    fecha_asociacion date
);


ALTER TABLE public.meta_proyecto OWNER TO postgres;

--
-- TOC entry 253 (class 1259 OID 33019)
-- Name: objetivo_estrategico; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.objetivo_estrategico (
    id integer NOT NULL,
    id_var integer NOT NULL,
    titulo character varying(255) NOT NULL,
    descripcion text
);


ALTER TABLE public.objetivo_estrategico OWNER TO postgres;

--
-- TOC entry 252 (class 1259 OID 33018)
-- Name: objetivo_estrategico_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.objetivo_estrategico ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.objetivo_estrategico_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 245 (class 1259 OID 32967)
-- Name: presupuesto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.presupuesto (
    id integer NOT NULL,
    id_proyecto integer NOT NULL,
    monto_solicitado numeric(15,2) NOT NULL,
    estado character varying(20) DEFAULT 'Pendiente'::character varying NOT NULL,
    monto_aprobado numeric(15,2),
    periodo_anio integer,
    fecha_solicitud date,
    fecha_aprobacion date,
    observaciones text,
    CONSTRAINT presupuesto_estado_check CHECK (((estado)::text = ANY ((ARRAY['Pendiente'::character varying, 'Aprobado'::character varying, 'Rechazado'::character varying])::text[])))
);


ALTER TABLE public.presupuesto OWNER TO postgres;

--
-- TOC entry 244 (class 1259 OID 32966)
-- Name: presupuesto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.presupuesto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.presupuesto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 233 (class 1259 OID 32859)
-- Name: producto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.producto (
    id integer NOT NULL,
    id_tipo_producto integer NOT NULL,
    codigo character varying(50),
    titulo character varying(255) NOT NULL,
    descripcion text,
    fecha_inicio date,
    fecha_fin_prevista date,
    fecha_modificacion date,
    fecha_finalizacion date,
    ruta_logo text
);


ALTER TABLE public.producto OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 32894)
-- Name: producto_entregable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.producto_entregable (
    id_producto integer NOT NULL,
    id_entregable integer NOT NULL,
    fecha_asociacion date
);


ALTER TABLE public.producto_entregable OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 32858)
-- Name: producto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.producto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.producto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 32815)
-- Name: proyecto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.proyecto (
    id integer NOT NULL,
    id_proyecto_padre integer,
    id_responsable integer NOT NULL,
    id_tipo_proyecto integer NOT NULL,
    codigo character varying(50),
    titulo character varying(255) NOT NULL,
    descripcion text,
    fecha_inicio date,
    fecha_fin_prevista date,
    fecha_modificacion date,
    fecha_finalizacion date,
    ruta_logo text
);


ALTER TABLE public.proyecto OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 32814)
-- Name: proyecto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.proyecto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.proyecto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 32871)
-- Name: proyecto_producto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.proyecto_producto (
    id_proyecto integer NOT NULL,
    id_producto integer NOT NULL,
    fecha_asociacion date
);


ALTER TABLE public.proyecto_producto OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 32787)
-- Name: responsable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.responsable (
    id integer NOT NULL,
    id_tipo_responsable integer NOT NULL,
    id_usuario integer NOT NULL,
    nombre character varying(255) NOT NULL
);


ALTER TABLE public.responsable OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 32909)
-- Name: responsable_entregable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.responsable_entregable (
    id_responsable integer NOT NULL,
    id_entregable integer NOT NULL,
    fecha_asociacion date
);


ALTER TABLE public.responsable_entregable OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 32786)
-- Name: responsable_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.responsable ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.responsable_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 32853)
-- Name: tipo_producto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tipo_producto (
    id integer NOT NULL,
    nombre character varying(150) NOT NULL,
    descripcion character varying(255) NOT NULL
);


ALTER TABLE public.tipo_producto OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 32852)
-- Name: tipo_producto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tipo_producto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tipo_producto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 32803)
-- Name: tipo_proyecto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tipo_proyecto (
    id integer NOT NULL,
    nombre character varying(150) NOT NULL,
    descripcion character varying(255) NOT NULL
);


ALTER TABLE public.tipo_proyecto OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 32802)
-- Name: tipo_proyecto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tipo_proyecto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tipo_proyecto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 32781)
-- Name: tipo_responsable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tipo_responsable (
    id integer NOT NULL,
    titulo character varying(50) NOT NULL,
    descripcion character varying(255) NOT NULL
);


ALTER TABLE public.tipo_responsable OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 32780)
-- Name: tipo_responsable_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tipo_responsable ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tipo_responsable_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 32770)
-- Name: usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuario (
    id integer NOT NULL,
    email character varying(150) NOT NULL,
    contrasena character varying(255) NOT NULL,
    ruta_avatar text,
    activo boolean DEFAULT true NOT NULL
);


ALTER TABLE public.usuario OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 32769)
-- Name: usuario_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.usuario ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.usuario_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 251 (class 1259 OID 33011)
-- Name: variable_estrategica; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.variable_estrategica (
    id integer NOT NULL,
    titulo character varying(255) NOT NULL,
    descripcion text
);


ALTER TABLE public.variable_estrategica OWNER TO postgres;

--
-- TOC entry 250 (class 1259 OID 33010)
-- Name: variable_estrategica_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.variable_estrategica ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.variable_estrategica_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 258 (class 1259 OID 57344)
-- Name: view_archivo_entregable; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_archivo_entregable AS
 SELECT ae.id_archivo,
    a.nombre AS nombre_archivo,
    a.tipo AS tipo_archivo,
    a.fecha AS fecha_archivo,
    a.ruta AS ruta_archivo,
    ae.id_entregable,
    e.codigo AS codigo_entregable,
    e.titulo AS titulo_entregable,
    e.fecha_inicio,
    e.fecha_fin_prevista
   FROM ((public.archivo_entregable ae
     JOIN public.archivo a ON ((ae.id_archivo = a.id)))
     JOIN public.entregable e ON ((ae.id_entregable = e.id)));


ALTER VIEW public.view_archivo_entregable OWNER TO postgres;

--
-- TOC entry 257 (class 1259 OID 49157)
-- Name: view_distribucion_presupuesto; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_distribucion_presupuesto AS
 SELECT dp.id AS id_distribucion,
    dp.presupuesto_padre_id AS id_presupuesto_padre,
    pre.id_proyecto AS id_proyecto_asociado,
    dp.proyecto_hijo_id AS id_proyecto_hijo,
    phijo.titulo AS proyecto_hijo,
    pre.periodo_anio,
    pre.monto_aprobado,
    dp.monto_asignado
   FROM ((public.distribucion_presupuesto dp
     JOIN public.presupuesto pre ON ((dp.presupuesto_padre_id = pre.id)))
     JOIN public.proyecto phijo ON ((dp.proyecto_hijo_id = phijo.id)));


ALTER VIEW public.view_distribucion_presupuesto OWNER TO postgres;

--
-- TOC entry 259 (class 1259 OID 57349)
-- Name: view_estado_proyecto; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_estado_proyecto AS
 SELECT ep.id_proyecto,
    p.codigo AS codigo_proyecto,
    p.titulo AS titulo_proyecto,
    e.id AS id_estado,
    e.nombre AS nombre_estado,
    e.descripcion AS descripcion_estado
   FROM ((public.estado_proyecto ep
     JOIN public.proyecto p ON ((ep.id_proyecto = p.id)))
     JOIN public.estado e ON ((ep.id_estado = e.id)));


ALTER VIEW public.view_estado_proyecto OWNER TO postgres;

--
-- TOC entry 260 (class 1259 OID 57353)
-- Name: view_meta_proyecto; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_meta_proyecto AS
 SELECT mp.id_meta,
    m.titulo AS titulo_meta,
    m.descripcion AS descripcion_meta,
    o.id AS id_objetivo,
    o.titulo AS titulo_objetivo,
    v.id AS id_variable,
    v.titulo AS titulo_variable,
    mp.id_proyecto,
    p.codigo AS codigo_proyecto,
    p.titulo AS titulo_proyecto,
    mp.fecha_asociacion
   FROM ((((public.meta_proyecto mp
     JOIN public.meta_estrategica m ON ((mp.id_meta = m.id)))
     JOIN public.objetivo_estrategico o ON ((m.id_obj = o.id)))
     JOIN public.variable_estrategica v ON ((o.id_var = v.id)))
     JOIN public.proyecto p ON ((mp.id_proyecto = p.id)));


ALTER VIEW public.view_meta_proyecto OWNER TO postgres;

--
-- TOC entry 262 (class 1259 OID 57363)
-- Name: view_producto_entregable; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_producto_entregable AS
 SELECT pe.id_producto,
    pr.codigo AS codigo_producto,
    pr.titulo AS titulo_producto,
    pe.id_entregable,
    e.codigo AS codigo_entregable,
    e.titulo AS titulo_entregable,
    pe.fecha_asociacion
   FROM ((public.producto_entregable pe
     JOIN public.producto pr ON ((pe.id_producto = pr.id)))
     JOIN public.entregable e ON ((pe.id_entregable = e.id)));


ALTER VIEW public.view_producto_entregable OWNER TO postgres;

--
-- TOC entry 261 (class 1259 OID 57358)
-- Name: view_proyecto_producto; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_proyecto_producto AS
 SELECT pp.id_proyecto,
    p.codigo AS codigo_proyecto,
    p.titulo AS titulo_proyecto,
    pr.id AS id_producto,
    pr.codigo AS codigo_producto,
    pr.titulo AS titulo_producto,
    tpr.nombre AS tipo_producto,
    pp.fecha_asociacion
   FROM (((public.proyecto_producto pp
     JOIN public.proyecto p ON ((pp.id_proyecto = p.id)))
     JOIN public.producto pr ON ((pp.id_producto = pr.id)))
     JOIN public.tipo_producto tpr ON ((pr.id_tipo_producto = tpr.id)));


ALTER VIEW public.view_proyecto_producto OWNER TO postgres;

--
-- TOC entry 263 (class 1259 OID 57368)
-- Name: view_responsable_entregable; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.view_responsable_entregable AS
 SELECT re.id_responsable,
    r.nombre AS nombre_responsable,
    tr.titulo AS tipo_responsable,
    re.id_entregable,
    e.codigo AS codigo_entregable,
    e.titulo AS titulo_entregable,
    re.fecha_asociacion
   FROM (((public.responsable_entregable re
     JOIN public.responsable r ON ((re.id_responsable = r.id)))
     JOIN public.tipo_responsable tr ON ((r.id_tipo_responsable = tr.id)))
     JOIN public.entregable e ON ((re.id_entregable = e.id)));


ALTER VIEW public.view_responsable_entregable OWNER TO postgres;

--
-- TOC entry 5156 (class 0 OID 32953)
-- Dependencies: 243
-- Data for Name: actividad; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.actividad (id, id_entregable, titulo, descripcion, fecha_inicio, fecha_fin_prevista, fecha_modificacion, fecha_finalizacion, prioridad, porcentaje_avance) FROM stdin;
1	1	Revisión de calidad del modelo de datos	Control de calidad inicial	\N	\N	\N	\N	\N	20
2	2	Pruebas de seguridad	Validación de autenticación	\N	\N	\N	\N	\N	10
3	3	Redacción de informe	Preparación de documento de resultados	\N	\N	\N	\N	\N	0
\.


--
-- TOC entry 5153 (class 0 OID 32925)
-- Dependencies: 240
-- Data for Name: archivo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.archivo (id, id_usuario, ruta, nombre, tipo, fecha) FROM stdin;
1	2	/repositorio/proyectos/analitica/modelo.pdf	ModeloDatos.pdf	PDF	2025-03-25
2	3	/repositorio/proyectos/analitica/seguridad.docx	Seguridad.docx	DOCX	2025-04-20
3	4	/repositorio/proyectos/analitica/informe.xlsx	Informe.xlsx	XLSX	2025-05-25
\.


--
-- TOC entry 5154 (class 0 OID 32937)
-- Dependencies: 241
-- Data for Name: archivo_entregable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.archivo_entregable (id_archivo, id_entregable) FROM stdin;
2	2
2	3
\.


--
-- TOC entry 5160 (class 0 OID 32982)
-- Dependencies: 247
-- Data for Name: distribucion_presupuesto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.distribucion_presupuesto (id, presupuesto_padre_id, proyecto_hijo_id, monto_asignado) FROM stdin;
1	1	2	20000000.00
2	1	3	30000000.00
3	2	4	5000000.00
\.


--
-- TOC entry 5162 (class 0 OID 32998)
-- Dependencies: 249
-- Data for Name: ejecucion_presupuesto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ejecucion_presupuesto (id, presupuesto_id, anio, monto_planeado, monto_ejecutado, observaciones) FROM stdin;
1	1	2025	50000000.00	10000000.00	\N
2	2	2025	20000000.00	18000000.00	\N
3	3	2025	15000000.00	0.00	\N
\.


--
-- TOC entry 5149 (class 0 OID 32887)
-- Dependencies: 236
-- Data for Name: entregable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.entregable (id, codigo, titulo, descripcion, fecha_inicio, fecha_fin_prevista, fecha_modificacion, fecha_finalizacion) FROM stdin;
1	E-001	Módulo de Integración de Datos	Submódulo que conecta sistemas académicos	2025-03-20	2025-06-30	\N	\N
2	E-002	Módulo de Seguridad	Autenticación y autorización en el sistema	2025-04-01	2025-08-15	\N	\N
3	E-003	Informe de Evaluación	Documento de análisis de resultados	2025-05-01	2025-07-31	\N	\N
\.


--
-- TOC entry 5139 (class 0 OID 32809)
-- Dependencies: 226
-- Data for Name: estado; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.estado (id, nombre, descripcion) FROM stdin;
1	En ejecución	Proyecto en curso
2	Finalizado	Proyecto completado
3	Pendiente	Proyecto aún no iniciado
4	Suspendido	Proyecto detenido temporalmente
\.


--
-- TOC entry 5142 (class 0 OID 32837)
-- Dependencies: 229
-- Data for Name: estado_proyecto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.estado_proyecto (id_proyecto, id_estado) FROM stdin;
1	1
2	1
3	3
4	4
\.


--
-- TOC entry 5168 (class 0 OID 33032)
-- Dependencies: 255
-- Data for Name: meta_estrategica; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.meta_estrategica (id, id_obj, titulo, descripcion) FROM stdin;
1	1	Implementar plataforma de datos centralizada	Plataforma transversal de analítica
2	2	Elevar la tasa de graduación en 10%	Apoyo académico integral
3	3	Reducir consumo energético 15%	Implementación de tecnologías verdes
\.


--
-- TOC entry 5169 (class 0 OID 33044)
-- Dependencies: 256
-- Data for Name: meta_proyecto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.meta_proyecto (id_meta, id_proyecto, fecha_asociacion) FROM stdin;
2	2	2025-05-01
2	1	2025-11-11
3	4	2025-11-11
\.


--
-- TOC entry 5166 (class 0 OID 33019)
-- Dependencies: 253
-- Data for Name: objetivo_estrategico; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.objetivo_estrategico (id, id_var, titulo, descripcion) FROM stdin;
1	1	Fomentar el uso de tecnologías emergentes	Adopción institucional
2	2	Mejorar el rendimiento académico	Estrategias de acompañamiento estudiantil
3	3	Reducir huella ecológica	Acciones sostenibles en la universidad
\.


--
-- TOC entry 5158 (class 0 OID 32967)
-- Dependencies: 245
-- Data for Name: presupuesto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.presupuesto (id, id_proyecto, monto_solicitado, estado, monto_aprobado, periodo_anio, fecha_solicitud, fecha_aprobacion, observaciones) FROM stdin;
1	1	50000000.00	Pendiente	\N	2025	2025-01-15	\N	\N
2	2	20000000.00	Aprobado	\N	2025	2025-02-10	\N	\N
3	3	15000000.00	Rechazado	\N	2025	2025-03-01	\N	\N
\.


--
-- TOC entry 5146 (class 0 OID 32859)
-- Dependencies: 233
-- Data for Name: producto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.producto (id, id_tipo_producto, codigo, titulo, descripcion, fecha_inicio, fecha_fin_prevista, fecha_modificacion, fecha_finalizacion, ruta_logo) FROM stdin;
1	1	P-001	Plataforma de Analítica de Datos	Sistema web para consulta de reportes institucionales	\N	\N	\N	\N	\N
2	2	P-002	Servidor de Datos	Servidor físico de almacenamiento institucional	\N	\N	\N	\N	\N
3	3	P-003	Servicio de Capacitación	Entrenamiento en uso de sistemas	\N	\N	\N	\N	\N
4	4	P-004	Manual de Usuario	Documento con guías técnicas	\N	\N	\N	\N	\N
\.


--
-- TOC entry 5150 (class 0 OID 32894)
-- Dependencies: 237
-- Data for Name: producto_entregable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.producto_entregable (id_producto, id_entregable, fecha_asociacion) FROM stdin;
1	1	2025-03-21
1	2	2025-04-05
3	3	2025-05-10
\.


--
-- TOC entry 5141 (class 0 OID 32815)
-- Dependencies: 228
-- Data for Name: proyecto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.proyecto (id, id_proyecto_padre, id_responsable, id_tipo_proyecto, codigo, titulo, descripcion, fecha_inicio, fecha_fin_prevista, fecha_modificacion, fecha_finalizacion, ruta_logo) FROM stdin;
1	\N	1	1	PE-001	Sistema de Analítica Universitaria	Sistema institucional de análisis de datos académicos	2025-02-01	2026-12-31	\N	\N	\N
2	1	2	1	PE-001-M1	Diseño de la Arquitectura de Datos	Definir la estructura de datos para integración académica	2025-02-15	2025-07-30	\N	\N	\N
3	1	3	1	PE-001-M2	Desarrollo del Dashboard Académico	Construcción de tablero de control académico	2025-08-01	2026-02-28	\N	\N	\N
4	\N	4	2	PO-001	Modernización de Bibliotecas	Renovación de infraestructura bibliotecaria	2025-01-10	2025-12-31	\N	\N	\N
\.


--
-- TOC entry 5147 (class 0 OID 32871)
-- Dependencies: 234
-- Data for Name: proyecto_producto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.proyecto_producto (id_proyecto, id_producto, fecha_asociacion) FROM stdin;
1	1	2025-03-01
1	2	2025-03-05
2	3	2025-11-18
\.


--
-- TOC entry 5135 (class 0 OID 32787)
-- Dependencies: 222
-- Data for Name: responsable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.responsable (id, id_tipo_responsable, id_usuario, nombre) FROM stdin;
1	1	1	Laura Gómez
2	2	2	Carlos Ramírez
3	2	3	Ana Torres
4	3	4	Mario López
5	4	5	Sofía Méndez
\.


--
-- TOC entry 5151 (class 0 OID 32909)
-- Dependencies: 238
-- Data for Name: responsable_entregable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.responsable_entregable (id_responsable, id_entregable, fecha_asociacion) FROM stdin;
2	1	2025-03-22
3	2	2025-04-10
4	3	2025-05-15
3	3	2025-11-11
\.


--
-- TOC entry 5144 (class 0 OID 32853)
-- Dependencies: 231
-- Data for Name: tipo_producto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tipo_producto (id, nombre, descripcion) FROM stdin;
1	Software	Aplicaciones o sistemas desarrollados
2	Hardware	Equipos físicos relacionados
3	Servicio	Servicios asociados a proyectos
4	Documento	Informes y manuales técnicos
\.


--
-- TOC entry 5137 (class 0 OID 32803)
-- Dependencies: 224
-- Data for Name: tipo_proyecto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tipo_proyecto (id, nombre, descripcion) FROM stdin;
1	Estratégico	Proyectos de carácter transversal institucional
2	Operativo	Proyectos internos de corto plazo
3	Investigación	Proyectos académicos de investigación
4	Infraestructura	Obras físicas o tecnológicas
\.


--
-- TOC entry 5133 (class 0 OID 32781)
-- Dependencies: 220
-- Data for Name: tipo_responsable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tipo_responsable (id, titulo, descripcion) FROM stdin;
1	Gerente de Proyecto	Responsable de proyectos estratégicos
2	Líder de Microproyecto	Responsable de microproyectos
3	Miembro del Equipo	Participante del proyecto
4	Asesor	Consultor externo
5	Coordinador	Responsable de coordinación general
\.


--
-- TOC entry 5131 (class 0 OID 32770)
-- Dependencies: 218
-- Data for Name: usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.usuario (id, email, contrasena, ruta_avatar, activo) FROM stdin;
1	laura.gomez@uni.edu	hash123	\N	t
2	carlos.ramirez@uni.edu	hash456	\N	t
4	mario.lopez@uni.edu	hash000	\N	t
3	ana.torres@uni.edu	hash789	None	t
5	sofia.mendez@uni.edu	$2a$12$3bYNehKz.n7mLM30TrA.Qur5SbJ9W8F5D/8UVDzA7BvNEEwlu03Z.	\N	f
\.


--
-- TOC entry 5164 (class 0 OID 33011)
-- Dependencies: 251
-- Data for Name: variable_estrategica; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.variable_estrategica (id, titulo, descripcion) FROM stdin;
1	Innovación	Promoción de tecnologías emergentes
2	Calidad Académica	Mejora continua de procesos educativos
3	Sostenibilidad	Uso eficiente de recursos
4	Transformación Digital	Digitalización de procesos administrativos
\.


--
-- TOC entry 5175 (class 0 OID 0)
-- Dependencies: 242
-- Name: actividad_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.actividad_id_seq', 11, true);


--
-- TOC entry 5176 (class 0 OID 0)
-- Dependencies: 239
-- Name: archivo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.archivo_id_seq', 4, true);


--
-- TOC entry 5177 (class 0 OID 0)
-- Dependencies: 246
-- Name: distribucion_presupuesto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.distribucion_presupuesto_id_seq', 5, true);


--
-- TOC entry 5178 (class 0 OID 0)
-- Dependencies: 248
-- Name: ejecucion_presupuesto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.ejecucion_presupuesto_id_seq', 3, true);


--
-- TOC entry 5179 (class 0 OID 0)
-- Dependencies: 235
-- Name: entregable_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.entregable_id_seq', 6, true);


--
-- TOC entry 5180 (class 0 OID 0)
-- Dependencies: 225
-- Name: estado_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.estado_id_seq', 5, true);


--
-- TOC entry 5181 (class 0 OID 0)
-- Dependencies: 254
-- Name: meta_estrategica_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.meta_estrategica_id_seq', 4, true);


--
-- TOC entry 5182 (class 0 OID 0)
-- Dependencies: 252
-- Name: objetivo_estrategico_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.objetivo_estrategico_id_seq', 3, true);


--
-- TOC entry 5183 (class 0 OID 0)
-- Dependencies: 244
-- Name: presupuesto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.presupuesto_id_seq', 3, true);


--
-- TOC entry 5184 (class 0 OID 0)
-- Dependencies: 232
-- Name: producto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.producto_id_seq', 4, true);


--
-- TOC entry 5185 (class 0 OID 0)
-- Dependencies: 227
-- Name: proyecto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.proyecto_id_seq', 4, true);


--
-- TOC entry 5186 (class 0 OID 0)
-- Dependencies: 221
-- Name: responsable_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.responsable_id_seq', 5, true);


--
-- TOC entry 5187 (class 0 OID 0)
-- Dependencies: 230
-- Name: tipo_producto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tipo_producto_id_seq', 6, true);


--
-- TOC entry 5188 (class 0 OID 0)
-- Dependencies: 223
-- Name: tipo_proyecto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tipo_proyecto_id_seq', 5, true);


--
-- TOC entry 5189 (class 0 OID 0)
-- Dependencies: 219
-- Name: tipo_responsable_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tipo_responsable_id_seq', 7, true);


--
-- TOC entry 5190 (class 0 OID 0)
-- Dependencies: 217
-- Name: usuario_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.usuario_id_seq', 10, true);


--
-- TOC entry 5191 (class 0 OID 0)
-- Dependencies: 250
-- Name: variable_estrategica_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.variable_estrategica_id_seq', 5, true);


--
-- TOC entry 4929 (class 2606 OID 32960)
-- Name: actividad actividad_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_pkey PRIMARY KEY (id);


--
-- TOC entry 4926 (class 2606 OID 32941)
-- Name: archivo_entregable archivo_entregable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.archivo_entregable
    ADD CONSTRAINT archivo_entregable_pkey PRIMARY KEY (id_archivo, id_entregable);


--
-- TOC entry 4923 (class 2606 OID 32931)
-- Name: archivo archivo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.archivo
    ADD CONSTRAINT archivo_pkey PRIMARY KEY (id);


--
-- TOC entry 4935 (class 2606 OID 32986)
-- Name: distribucion_presupuesto distribucion_presupuesto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.distribucion_presupuesto
    ADD CONSTRAINT distribucion_presupuesto_pkey PRIMARY KEY (id);


--
-- TOC entry 4939 (class 2606 OID 33004)
-- Name: ejecucion_presupuesto ejecucion_presupuesto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ejecucion_presupuesto
    ADD CONSTRAINT ejecucion_presupuesto_pkey PRIMARY KEY (id);


--
-- TOC entry 4913 (class 2606 OID 32893)
-- Name: entregable entregable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.entregable
    ADD CONSTRAINT entregable_pkey PRIMARY KEY (id);


--
-- TOC entry 4893 (class 2606 OID 32813)
-- Name: estado estado_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado
    ADD CONSTRAINT estado_pkey PRIMARY KEY (id);


--
-- TOC entry 4901 (class 2606 OID 32841)
-- Name: estado_proyecto estado_proyecto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado_proyecto
    ADD CONSTRAINT estado_proyecto_pkey PRIMARY KEY (id_proyecto);


--
-- TOC entry 4948 (class 2606 OID 33038)
-- Name: meta_estrategica meta_estrategica_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meta_estrategica
    ADD CONSTRAINT meta_estrategica_pkey PRIMARY KEY (id);


--
-- TOC entry 4951 (class 2606 OID 33048)
-- Name: meta_proyecto meta_proyecto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meta_proyecto
    ADD CONSTRAINT meta_proyecto_pkey PRIMARY KEY (id_meta, id_proyecto);


--
-- TOC entry 4945 (class 2606 OID 33025)
-- Name: objetivo_estrategico objetivo_estrategico_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.objetivo_estrategico
    ADD CONSTRAINT objetivo_estrategico_pkey PRIMARY KEY (id);


--
-- TOC entry 4933 (class 2606 OID 32975)
-- Name: presupuesto presupuesto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.presupuesto
    ADD CONSTRAINT presupuesto_pkey PRIMARY KEY (id);


--
-- TOC entry 4917 (class 2606 OID 32898)
-- Name: producto_entregable producto_entregable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.producto_entregable
    ADD CONSTRAINT producto_entregable_pkey PRIMARY KEY (id_producto, id_entregable);


--
-- TOC entry 4908 (class 2606 OID 32865)
-- Name: producto producto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.producto
    ADD CONSTRAINT producto_pkey PRIMARY KEY (id);


--
-- TOC entry 4899 (class 2606 OID 32821)
-- Name: proyecto proyecto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto
    ADD CONSTRAINT proyecto_pkey PRIMARY KEY (id);


--
-- TOC entry 4911 (class 2606 OID 32875)
-- Name: proyecto_producto proyecto_producto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto_producto
    ADD CONSTRAINT proyecto_producto_pkey PRIMARY KEY (id_proyecto, id_producto);


--
-- TOC entry 4921 (class 2606 OID 32913)
-- Name: responsable_entregable responsable_entregable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.responsable_entregable
    ADD CONSTRAINT responsable_entregable_pkey PRIMARY KEY (id_responsable, id_entregable);


--
-- TOC entry 4888 (class 2606 OID 32791)
-- Name: responsable responsable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.responsable
    ADD CONSTRAINT responsable_pkey PRIMARY KEY (id);


--
-- TOC entry 4904 (class 2606 OID 32857)
-- Name: tipo_producto tipo_producto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tipo_producto
    ADD CONSTRAINT tipo_producto_pkey PRIMARY KEY (id);


--
-- TOC entry 4890 (class 2606 OID 32807)
-- Name: tipo_proyecto tipo_proyecto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tipo_proyecto
    ADD CONSTRAINT tipo_proyecto_pkey PRIMARY KEY (id);


--
-- TOC entry 4883 (class 2606 OID 32785)
-- Name: tipo_responsable tipo_responsable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tipo_responsable
    ADD CONSTRAINT tipo_responsable_pkey PRIMARY KEY (id);


--
-- TOC entry 4879 (class 2606 OID 32779)
-- Name: usuario usuario_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_email_key UNIQUE (email);


--
-- TOC entry 4881 (class 2606 OID 32777)
-- Name: usuario usuario_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_pkey PRIMARY KEY (id);


--
-- TOC entry 4942 (class 2606 OID 33017)
-- Name: variable_estrategica variable_estrategica_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.variable_estrategica
    ADD CONSTRAINT variable_estrategica_pkey PRIMARY KEY (id);


--
-- TOC entry 4930 (class 1259 OID 33073)
-- Name: idx_actividad_id_entregable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_actividad_id_entregable ON public.actividad USING btree (id_entregable);


--
-- TOC entry 4927 (class 1259 OID 33072)
-- Name: idx_archivo_entregable_id_entregable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_archivo_entregable_id_entregable ON public.archivo_entregable USING btree (id_entregable);


--
-- TOC entry 4924 (class 1259 OID 33071)
-- Name: idx_archivo_id_usuario; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_archivo_id_usuario ON public.archivo USING btree (id_usuario);


--
-- TOC entry 4936 (class 1259 OID 33075)
-- Name: idx_distribucion_presupuesto_padre; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_distribucion_presupuesto_padre ON public.distribucion_presupuesto USING btree (presupuesto_padre_id);


--
-- TOC entry 4937 (class 1259 OID 33076)
-- Name: idx_distribucion_proyecto_hijo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_distribucion_proyecto_hijo ON public.distribucion_presupuesto USING btree (proyecto_hijo_id);


--
-- TOC entry 4940 (class 1259 OID 33077)
-- Name: idx_ejecucion_presupuesto_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_ejecucion_presupuesto_id ON public.ejecucion_presupuesto USING btree (presupuesto_id);


--
-- TOC entry 4902 (class 1259 OID 33064)
-- Name: idx_estado_proyecto_id_estado; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_estado_proyecto_id_estado ON public.estado_proyecto USING btree (id_estado);


--
-- TOC entry 4946 (class 1259 OID 33079)
-- Name: idx_meta_id_obj; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_meta_id_obj ON public.meta_estrategica USING btree (id_obj);


--
-- TOC entry 4949 (class 1259 OID 33080)
-- Name: idx_meta_proyecto_id_proyecto; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_meta_proyecto_id_proyecto ON public.meta_proyecto USING btree (id_proyecto);


--
-- TOC entry 4943 (class 1259 OID 33078)
-- Name: idx_objetivo_id_var; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_objetivo_id_var ON public.objetivo_estrategico USING btree (id_var);


--
-- TOC entry 4931 (class 1259 OID 33074)
-- Name: idx_presupuesto_id_proyecto; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_presupuesto_id_proyecto ON public.presupuesto USING btree (id_proyecto);


--
-- TOC entry 4914 (class 1259 OID 33068)
-- Name: idx_producto_entregable_id_entregable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_producto_entregable_id_entregable ON public.producto_entregable USING btree (id_entregable);


--
-- TOC entry 4915 (class 1259 OID 33067)
-- Name: idx_producto_entregable_id_producto; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_producto_entregable_id_producto ON public.producto_entregable USING btree (id_producto);


--
-- TOC entry 4906 (class 1259 OID 33065)
-- Name: idx_producto_id_tipo_producto; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_producto_id_tipo_producto ON public.producto USING btree (id_tipo_producto);


--
-- TOC entry 4895 (class 1259 OID 33063)
-- Name: idx_proyecto_id_proyecto_padre; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_proyecto_id_proyecto_padre ON public.proyecto USING btree (id_proyecto_padre);


--
-- TOC entry 4896 (class 1259 OID 33061)
-- Name: idx_proyecto_id_responsable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_proyecto_id_responsable ON public.proyecto USING btree (id_responsable);


--
-- TOC entry 4897 (class 1259 OID 33062)
-- Name: idx_proyecto_id_tipo_proyecto; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_proyecto_id_tipo_proyecto ON public.proyecto USING btree (id_tipo_proyecto);


--
-- TOC entry 4909 (class 1259 OID 33066)
-- Name: idx_proyecto_producto_id_producto; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_proyecto_producto_id_producto ON public.proyecto_producto USING btree (id_producto);


--
-- TOC entry 4918 (class 1259 OID 33070)
-- Name: idx_responsable_entregable_id_entregable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_responsable_entregable_id_entregable ON public.responsable_entregable USING btree (id_entregable);


--
-- TOC entry 4919 (class 1259 OID 33069)
-- Name: idx_responsable_entregable_id_responsable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_responsable_entregable_id_responsable ON public.responsable_entregable USING btree (id_responsable);


--
-- TOC entry 4885 (class 1259 OID 33059)
-- Name: idx_responsable_id_tipo_responsable; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_responsable_id_tipo_responsable ON public.responsable USING btree (id_tipo_responsable);


--
-- TOC entry 4886 (class 1259 OID 33060)
-- Name: idx_responsable_id_usuario; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_responsable_id_usuario ON public.responsable USING btree (id_usuario);


--
-- TOC entry 4894 (class 1259 OID 33084)
-- Name: uq_estado_nombre; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX uq_estado_nombre ON public.estado USING btree (nombre);


--
-- TOC entry 4905 (class 1259 OID 33083)
-- Name: uq_tipo_producto_nombre; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX uq_tipo_producto_nombre ON public.tipo_producto USING btree (nombre);


--
-- TOC entry 4891 (class 1259 OID 33082)
-- Name: uq_tipo_proyecto_nombre; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX uq_tipo_proyecto_nombre ON public.tipo_proyecto USING btree (nombre);


--
-- TOC entry 4884 (class 1259 OID 33081)
-- Name: uq_tipo_responsable_titulo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX uq_tipo_responsable_titulo ON public.tipo_responsable USING btree (titulo);


--
-- TOC entry 4969 (class 2606 OID 32961)
-- Name: actividad actividad_id_entregable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_id_entregable_fkey FOREIGN KEY (id_entregable) REFERENCES public.entregable(id) ON DELETE CASCADE;


--
-- TOC entry 4967 (class 2606 OID 32942)
-- Name: archivo_entregable archivo_entregable_id_archivo_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.archivo_entregable
    ADD CONSTRAINT archivo_entregable_id_archivo_fkey FOREIGN KEY (id_archivo) REFERENCES public.archivo(id) ON DELETE CASCADE;


--
-- TOC entry 4968 (class 2606 OID 32947)
-- Name: archivo_entregable archivo_entregable_id_entregable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.archivo_entregable
    ADD CONSTRAINT archivo_entregable_id_entregable_fkey FOREIGN KEY (id_entregable) REFERENCES public.entregable(id) ON DELETE CASCADE;


--
-- TOC entry 4966 (class 2606 OID 32932)
-- Name: archivo archivo_id_usuario_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.archivo
    ADD CONSTRAINT archivo_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES public.usuario(id) ON DELETE CASCADE;


--
-- TOC entry 4971 (class 2606 OID 32987)
-- Name: distribucion_presupuesto distribucion_presupuesto_presupuesto_padre_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.distribucion_presupuesto
    ADD CONSTRAINT distribucion_presupuesto_presupuesto_padre_id_fkey FOREIGN KEY (presupuesto_padre_id) REFERENCES public.presupuesto(id) ON DELETE CASCADE;


--
-- TOC entry 4972 (class 2606 OID 32992)
-- Name: distribucion_presupuesto distribucion_presupuesto_proyecto_hijo_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.distribucion_presupuesto
    ADD CONSTRAINT distribucion_presupuesto_proyecto_hijo_id_fkey FOREIGN KEY (proyecto_hijo_id) REFERENCES public.proyecto(id) ON DELETE CASCADE;


--
-- TOC entry 4973 (class 2606 OID 33005)
-- Name: ejecucion_presupuesto ejecucion_presupuesto_presupuesto_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ejecucion_presupuesto
    ADD CONSTRAINT ejecucion_presupuesto_presupuesto_id_fkey FOREIGN KEY (presupuesto_id) REFERENCES public.presupuesto(id) ON DELETE CASCADE;


--
-- TOC entry 4957 (class 2606 OID 32847)
-- Name: estado_proyecto estado_proyecto_id_estado_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado_proyecto
    ADD CONSTRAINT estado_proyecto_id_estado_fkey FOREIGN KEY (id_estado) REFERENCES public.estado(id);


--
-- TOC entry 4958 (class 2606 OID 32842)
-- Name: estado_proyecto estado_proyecto_id_proyecto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado_proyecto
    ADD CONSTRAINT estado_proyecto_id_proyecto_fkey FOREIGN KEY (id_proyecto) REFERENCES public.proyecto(id) ON DELETE CASCADE;


--
-- TOC entry 4975 (class 2606 OID 33039)
-- Name: meta_estrategica meta_estrategica_id_obj_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meta_estrategica
    ADD CONSTRAINT meta_estrategica_id_obj_fkey FOREIGN KEY (id_obj) REFERENCES public.objetivo_estrategico(id) ON DELETE CASCADE;


--
-- TOC entry 4976 (class 2606 OID 33049)
-- Name: meta_proyecto meta_proyecto_id_meta_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meta_proyecto
    ADD CONSTRAINT meta_proyecto_id_meta_fkey FOREIGN KEY (id_meta) REFERENCES public.meta_estrategica(id) ON DELETE CASCADE;


--
-- TOC entry 4977 (class 2606 OID 33054)
-- Name: meta_proyecto meta_proyecto_id_proyecto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meta_proyecto
    ADD CONSTRAINT meta_proyecto_id_proyecto_fkey FOREIGN KEY (id_proyecto) REFERENCES public.proyecto(id) ON DELETE CASCADE;


--
-- TOC entry 4974 (class 2606 OID 33026)
-- Name: objetivo_estrategico objetivo_estrategico_id_var_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.objetivo_estrategico
    ADD CONSTRAINT objetivo_estrategico_id_var_fkey FOREIGN KEY (id_var) REFERENCES public.variable_estrategica(id) ON DELETE CASCADE;


--
-- TOC entry 4970 (class 2606 OID 32976)
-- Name: presupuesto presupuesto_id_proyecto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.presupuesto
    ADD CONSTRAINT presupuesto_id_proyecto_fkey FOREIGN KEY (id_proyecto) REFERENCES public.proyecto(id) ON DELETE CASCADE;


--
-- TOC entry 4962 (class 2606 OID 32904)
-- Name: producto_entregable producto_entregable_id_entregable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.producto_entregable
    ADD CONSTRAINT producto_entregable_id_entregable_fkey FOREIGN KEY (id_entregable) REFERENCES public.entregable(id) ON DELETE CASCADE;


--
-- TOC entry 4963 (class 2606 OID 32899)
-- Name: producto_entregable producto_entregable_id_producto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.producto_entregable
    ADD CONSTRAINT producto_entregable_id_producto_fkey FOREIGN KEY (id_producto) REFERENCES public.producto(id) ON DELETE CASCADE;


--
-- TOC entry 4959 (class 2606 OID 32866)
-- Name: producto producto_id_tipo_producto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.producto
    ADD CONSTRAINT producto_id_tipo_producto_fkey FOREIGN KEY (id_tipo_producto) REFERENCES public.tipo_producto(id);


--
-- TOC entry 4954 (class 2606 OID 32822)
-- Name: proyecto proyecto_id_proyecto_padre_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto
    ADD CONSTRAINT proyecto_id_proyecto_padre_fkey FOREIGN KEY (id_proyecto_padre) REFERENCES public.proyecto(id) ON DELETE SET NULL;


--
-- TOC entry 4955 (class 2606 OID 32827)
-- Name: proyecto proyecto_id_responsable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto
    ADD CONSTRAINT proyecto_id_responsable_fkey FOREIGN KEY (id_responsable) REFERENCES public.responsable(id);


--
-- TOC entry 4956 (class 2606 OID 32832)
-- Name: proyecto proyecto_id_tipo_proyecto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto
    ADD CONSTRAINT proyecto_id_tipo_proyecto_fkey FOREIGN KEY (id_tipo_proyecto) REFERENCES public.tipo_proyecto(id);


--
-- TOC entry 4960 (class 2606 OID 32881)
-- Name: proyecto_producto proyecto_producto_id_producto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto_producto
    ADD CONSTRAINT proyecto_producto_id_producto_fkey FOREIGN KEY (id_producto) REFERENCES public.producto(id) ON DELETE CASCADE;


--
-- TOC entry 4961 (class 2606 OID 32876)
-- Name: proyecto_producto proyecto_producto_id_proyecto_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto_producto
    ADD CONSTRAINT proyecto_producto_id_proyecto_fkey FOREIGN KEY (id_proyecto) REFERENCES public.proyecto(id) ON DELETE CASCADE;


--
-- TOC entry 4964 (class 2606 OID 32919)
-- Name: responsable_entregable responsable_entregable_id_entregable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.responsable_entregable
    ADD CONSTRAINT responsable_entregable_id_entregable_fkey FOREIGN KEY (id_entregable) REFERENCES public.entregable(id) ON DELETE CASCADE;


--
-- TOC entry 4965 (class 2606 OID 32914)
-- Name: responsable_entregable responsable_entregable_id_responsable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.responsable_entregable
    ADD CONSTRAINT responsable_entregable_id_responsable_fkey FOREIGN KEY (id_responsable) REFERENCES public.responsable(id) ON DELETE CASCADE;


--
-- TOC entry 4952 (class 2606 OID 32792)
-- Name: responsable responsable_id_tipo_responsable_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.responsable
    ADD CONSTRAINT responsable_id_tipo_responsable_fkey FOREIGN KEY (id_tipo_responsable) REFERENCES public.tipo_responsable(id);


--
-- TOC entry 4953 (class 2606 OID 32797)
-- Name: responsable responsable_id_usuario_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.responsable
    ADD CONSTRAINT responsable_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES public.usuario(id) ON DELETE CASCADE;


-- Completed on 2025-11-13 22:49:15

--
-- PostgreSQL database dump complete
--

\unrestrict 7hL9m4L5egeiIysSzWBHVfh1IYQU4Hltv6urPI2CcIvGanEcoe70MR6r64vwqh4

